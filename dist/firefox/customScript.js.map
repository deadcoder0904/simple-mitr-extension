{"version":3,"sources":["customScript.js"],"names":["sequenceClass","mouseEvent","e","type","getAttribute","resequence","_ref","seq","console","log","newId","prompt","arr","tClass","document","getElementsByClassName","i","length","index","Number","splice","j","setAttribute","doSequence","style","boxShadow","innerText","init","onclick","finalize","removeAttribute","_htmlText","pg1","body","childNodes","parentNode","insertBefore","nextSibling","replace","toFixText","_re","RegExp","_jawread","getElementById","removeChild","createElement","id","innerHTML","position","left","top","opacity","firstChild","_pgNum","parseInt","location","href","split","reverse","_pg1Overlay","_pg1Holder","sequence","window","module","exports"],"mappings":"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","file":"customScript.js","sourceRoot":"../..","sourcesContent":["function sequenceClass() {\n  this.init = function() {\n    const tClass = document.getElementsByClassName('t')\n    for (var i = 0; i < tClass.length; i++) {\n      tClass[i].style.boxShadow = '0px 0px 10px 2px #000000'\n      tClass[i].setAttribute('aria-hidden', 'true')\n      tClass[i].onclick = mouseEvent\n    }\n  }\n\n  this.finalize = function() {\n    let arr = []\n    const tClass = document.getElementsByClassName('t')\n    for (let i = 0; i < tClass.length; i++) {\n      tClass[i].removeAttribute('super-script')\n      tClass[i].style.boxShadow = ''\n      const seq = tClass[i].getAttribute('data-seq')\n      if (seq) {\n        arr[seq] = tClass[i]\n      }\n    }\n    let _htmlText = ''\n    const pg1 = document.body.childNodes[0]\n    for (var i = arr.length - 1; i >= 0; i--) {\n      _htmlText = arr[i].innerText + '\\n' + _htmlText\n      pg1.parentNode.insertBefore(arr[i], pg1.nextSibling)\n    }\n    _htmlText = _htmlText.replace(/</g, '&lt;')\n    _htmlText = _htmlText.replace(/>/g, '&gt;')\n    const toFixText = [['ﬁ', 'fi'], ['ﬀ', 'ff'], ['ﬂ', 'fl']]\n    for (let i = 0; i < toFixText.length; i++) {\n      const _re = new RegExp(toFixText[i][0], 'g')\n      _htmlText = _htmlText.replace(_re, toFixText[i][1])\n    }\n    let _jawread = document.getElementById('jawread')\n    if (_jawread) {\n      _jawread.parentNode.removeChild(_jawread)\n    }\n    _jawread = document.createElement('div')\n    _jawread.id = 'jawread'\n    _jawread.innerHTML = _htmlText\n    _jawread.style.position = 'absolute'\n    _jawread.style.left = '0px'\n    _jawread.style.top = '0px'\n    _jawread.style.opacity = '0'\n\n    document.body.insertBefore(_jawread, document.body.firstChild)\n\n    const _pgNum = parseInt(\n      location.href\n        .split('/')\n        .reverse()[0]\n        .split('.')[0],\n    )\n    const _pg1Overlay = document.getElementById('pg' + _pgNum + 'Overlay')\n    if (_pg1Overlay) {\n      _pg1Overlay.parentNode.removeChild(_pg1Overlay)\n    }\n    const _pg1Holder = document.getElementById('p' + _pgNum)\n    if (_pg1Holder) {\n      _pg1Holder.setAttribute('aria-hidden', 'true')\n    }\n  }\n\n  function mouseEvent(e) {\n    switch (e.type) {\n      case 'click':\n        const seq = this.getAttribute('data-seq')\n        if (!seq) {\n          doSequence(this)\n        } else {\n          resequence(this)\n        }\n        break\n      default:\n        break\n    }\n  }\n\n  function resequence(_ref) {\n    const seq = _ref.getAttribute('data-seq')\n    console.log(seq + ' modify')\n    const newId = prompt('Enter new id.')\n    if (newId) {\n      let arr = []\n      const tClass = document.getElementsByClassName('t')\n      for (let i = 0; i < tClass.length; i++) {\n        let index = tClass[i].getAttribute('data-seq')\n        if (index) {\n          index = Number(index)\n          arr[index] = tClass[i]\n        }\n      }\n      arr.splice(newId, 0, arr.splice(Number(seq), 1)[0])\n      for (let j = 0; j < arr.length; j++) {\n        arr[j].setAttribute('data-seq', j)\n        arr[j].setAttribute('super-script', j)\n      }\n    }\n  }\n\n  function doSequence(_ref) {\n    let arr = []\n    const tClass = document.getElementsByClassName('t')\n    for (let i = 0; i < tClass.length; i++) {\n      let index = tClass[i].getAttribute('data-seq')\n      if (index) {\n        index = Number(index)\n        arr[index] = tClass[i]\n      }\n    }\n    _ref.style.boxShadow = '0px 0px 10px 2px #FF0000'\n    _ref.setAttribute('data-seq', arr.length)\n    _ref.setAttribute('super-script', arr.length)\n    console.log(arr.length + ': ' + _ref.innerText)\n  }\n}\n\nconst sequence = new sequenceClass()\nwindow.sequence = sequence\nmodule.exports = sequence\n"]}